<a href="{{ post.url | prepend: site.baseurl }}" class="post-list-item">

    <!-- This thumbnail image is lazily loaded, that's why no 'src' is provided. -->
    <div class="post-thumbnail">
        <img defpath="{{ post.thumbnail | prepend: '/static/images/thumbnails/' | prepend: site.baseurl | append: '.jpeg' }}" alt="{{ post.title | strip_html }}" title="{{ post.title | strip_html }}" class="post-thumbnail-image">
    </div>

    <div class="post-list-item-text">
    <h2>{{ post.title }}</h2>

    <!-- The 'capitalize' filter is not very good with acronyms. Have to manually fix a couple... -->
    {% assign need_br = true %}
    {% capture my_categories %}
    {% for category in post.categories %}
        {% case category %}
            {% when 'ios' %}
                iOS
            {% when 'opengl' %}
                OpenGL
            {% when 'webgl' %}
                WebGL
            {% when 'gdc' %}
                GDC
            {% else %}
                {{ category | capitalize }}
        {% endcase %}
        {% if forloop.last == false %}
            {% if forloop.index >= 3 %}
                </span>
                <br />
                <span class="post-subheading">
                {% assign need_br = false %}
            {% endif %}
            ,
        {% endif %}
    {% endfor %}
    {% endcapture %}
    <span class="post-subheading">{{ my_categories | strip_newlines | replace: ',', ' â€¢ ' }}</span>
    {% if need_br %}
        <br />
    {% else %}
        <span class="post-subheading">&nbsp;|&nbsp;</span>
    {% endif %}
    <span class="post-subheading">{{ post.date | date: "%b %-d, %Y" }}</span>
    </div>
</a>
